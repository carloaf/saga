nohup: ignoring input
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "default" instance using docker driver

#1 [app internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.33kB done
#1 DONE 0.0s

#2 [app internal] load metadata for docker.io/library/php:8.4-apache
#2 ...

#3 [app internal] load metadata for docker.io/library/composer:latest
#3 DONE 1.2s

#2 [app internal] load metadata for docker.io/library/php:8.4-apache
#2 DONE 1.4s

#4 [app internal] load .dockerignore
#4 transferring context: 2B 0.0s done
#4 DONE 0.0s

#5 [app stage-0  1/13] FROM docker.io/library/php:8.4-apache@sha256:ea56c91b76a02d34bed792999733852f60309d2f0760b7f2a17c913388322945
#5 DONE 0.0s

#6 [app] FROM docker.io/library/composer:latest@sha256:20462d70afcfa999ad75dbd9333194067f4d869078bdb37430339e8d97e541d6
#6 DONE 0.0s

#7 [app internal] load build context
#7 transferring context: 1.00MB 3.0s done
#7 DONE 3.1s

#8 [app stage-0  2/13] RUN apt-get update && apt-get install -y     git     curl     libpng-dev     libonig-dev     libxml2-dev     libpq-dev     libzip-dev     unzip     zip     nodejs     npm
#8 CACHED

#9 [app stage-0  3/13] RUN apt-get clean && rm -rf /var/lib/apt/lists/*
#9 CACHED

#10 [app stage-0  4/13] RUN docker-php-ext-install pdo_pgsql pgsql mbstring exif pcntl bcmath gd zip
#10 CACHED

#11 [app stage-0  5/13] COPY --from=composer:latest /usr/bin/composer /usr/bin/composer
#11 CACHED

#12 [app stage-0  6/13] RUN a2enmod rewrite
#12 CACHED

#13 [app stage-0  7/13] WORKDIR /var/www/html
#13 CACHED

#14 [app stage-0  8/13] COPY . /var/www/html
#14 DONE 5.6s

#15 [app stage-0  9/13] COPY --chown=www-data:www-data . /var/www/html
#15 DONE 6.8s

#16 [app stage-0 10/13] RUN composer install --no-dev --optimize-autoloader --no-scripts --no-cache
#16 0.950 The repository at "/var/www/html" does not have the correct ownership and git refuses to use it:
#16 0.950 
#16 0.950 fatal: detected dubious ownership in repository at '/var/www/html'
#16 0.950 To add an exception for this directory, call:
#16 0.950 
#16 0.950 	git config --global --add safe.directory /var/www/html
#16 0.950 
#16 1.198 Installing dependencies from lock file
#16 1.214 Verifying lock file contents can be installed on current platform.
#16 1.238 Warning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. It is recommended that you run `composer update` or `composer update <package name>`.
#16 1.352 Package operations: 0 installs, 0 updates, 34 removals
#16 1.353   - Removing theseer/tokenizer (1.2.3)
#16 1.359   - Removing symfony/yaml (v7.3.1)
#16 1.363   - Removing staabm/side-effects-detector (1.0.5)
#16 1.372   - Removing sebastian/version (5.0.2)
#16 1.381   - Removing sebastian/type (5.1.2)
#16 1.390   - Removing sebastian/recursion-context (6.0.2)
#16 1.402   - Removing sebastian/object-reflector (4.0.1)
#16 1.408   - Removing sebastian/object-enumerator (6.0.1)
#16 1.416   - Removing sebastian/lines-of-code (3.0.1)
#16 1.422   - Removing sebastian/global-state (7.0.2)
#16 1.423   - Removing sebastian/exporter (6.3.0)
#16 1.424   - Removing sebastian/environment (7.2.1)
#16 1.425   - Removing sebastian/diff (6.0.2)
#16 1.428   - Removing sebastian/complexity (4.0.1)
#16 1.428   - Removing sebastian/comparator (6.3.1)
#16 1.429   - Removing sebastian/code-unit-reverse-lookup (4.0.1)
#16 1.430   - Removing sebastian/code-unit (3.0.3)
#16 1.430   - Removing sebastian/cli-parser (3.0.2)
#16 1.430   - Removing phpunit/phpunit (11.5.27)
#16 1.431   - Removing phpunit/php-timer (7.0.1)
#16 1.432   - Removing phpunit/php-text-template (4.0.1)
#16 1.432   - Removing phpunit/php-invoker (5.0.1)
#16 1.432   - Removing phpunit/php-file-iterator (5.1.0)
#16 1.433   - Removing phpunit/php-code-coverage (11.0.10)
#16 1.436   - Removing phar-io/version (3.2.1)
#16 1.436   - Removing phar-io/manifest (2.0.4)
#16 1.436   - Removing nunomaduro/collision (v8.8.2)
#16 1.436   - Removing myclabs/deep-copy (1.13.3)
#16 1.436   - Removing mockery/mockery (1.6.12)
#16 1.436   - Removing laravel/sail (v1.44.0)
#16 1.436   - Removing laravel/pint (v1.24.0)
#16 1.436   - Removing hamcrest/hamcrest-php (v2.1.1)
#16 1.437   - Removing filp/whoops (2.18.3)
#16 1.438   - Removing fakerphp/faker (v1.24.1)
#16 1.792   0/24 [>---------------------------]   0%
#16 2.165   9/24 [==========>-----------------]  37%
#16 2.325  13/24 [===============>------------]  54%
#16 2.707  21/24 [========================>---]  87%
#16 2.804  23/24 [==========================>-]  95%
#16 2.988  24/24 [============================] 100%
#16 3.037 Generating optimized autoload files
#16 12.55 57 packages you are using are looking for funding.
#16 12.55 Use the `composer fund` command to find out more!
#16 DONE 12.7s

#17 [app stage-0 11/13] RUN npm install && npm run build
#17 33.45 
#17 33.45 added 152 packages, and audited 153 packages in 30s
#17 33.45 
#17 33.45 40 packages are looking for funding
#17 33.45   run `npm fund` for details
#17 33.55 
#17 33.55 2 moderate severity vulnerabilities
#17 33.55 
#17 33.55 To address all issues (including breaking changes), run:
#17 33.55   npm audit fix --force
#17 33.55 
#17 33.55 Run `npm audit` for details.
#17 36.45 
#17 36.45 > build
#17 36.45 > vite build
#17 36.45 
#17 38.48 vite v5.4.19 building for production...
#17 38.77 transforming...
#17 41.24 ✓ 53 modules transformed.
#17 41.74 rendering chunks...
#17 41.86 computing gzip size...
#17 41.90 public/build/manifest.json             0.27 kB │ gzip:  0.14 kB
#17 41.90 public/build/assets/app-Cw4MnBjD.css   0.48 kB │ gzip:  0.26 kB
#17 41.90 public/build/assets/app-L025cZux.js   35.66 kB │ gzip: 14.26 kB
#17 41.90 ✓ built in 3.25s
#17 DONE 42.1s

#18 [app stage-0 12/13] RUN chown -R www-data:www-data /var/www/html     && chmod -R 755 /var/www/html/storage     && chmod -R 755 /var/www/html/bootstrap/cache
#18 DONE 13.3s

#19 [app stage-0 13/13] COPY docker/apache/000-default.conf /etc/apache2/sites-available/000-default.conf
#19 DONE 0.0s

#20 [app] exporting to image
#20 exporting layers
#20 exporting layers 8.7s done
#20 writing image sha256:f662741422cfeead654c816c7b36e1159d1918b1aabfd0b403b1cf1952826010 done
#20 naming to docker.io/saga/app done
#20 DONE 8.7s

#21 [app] resolving provenance for metadata file
#21 DONE 0.0s
 app  Built
